[gd_scene load_steps=9 format=2]

[ext_resource path="res://Models/PirateEnemy/pirate_enemy_inherited.tscn" type="PackedScene" id=1]
[ext_resource path="res://Source/Entities/Entity.tscn" type="PackedScene" id=2]
[ext_resource path="res://Source/Enemies/EnemyFollowersBrain.gd" type="Script" id=3]
[ext_resource path="res://Source/Enemies/ObjectiveToMovement.gd" type="Script" id=4]
[ext_resource path="res://Source/Enemies/EnemyRotation.gd" type="Script" id=5]
[ext_resource path="res://Source/Enemies/EnemyFollowers.gd" type="Script" id=6]
[ext_resource path="res://Source/Enemies/AttackModule.gd" type="Script" id=7]

[sub_resource type="CapsuleShape" id=1]
radius = 0.5
height = 0.5

[node name="EnemyFollowers" instance=ExtResource( 2 )]
collision_layer = 8
collision_mask = 27
script = ExtResource( 6 )

[node name="Brain" type="Node" parent="." index="0"]
script = ExtResource( 3 )

[node name="ObjectiveToMovement" type="Node" parent="." index="1"]
script = ExtResource( 4 )

[node name="Body" type="Spatial" parent="." index="2"]
script = ExtResource( 5 )

[node name="pirate_enemy_01" parent="Body" index="0" instance=ExtResource( 1 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0 )

[node name="AttackModule" type="Spatial" parent="Body" index="1"]
script = ExtResource( 7 )
damage = 5.0

[node name="Area" type="Area" parent="Body/AttackModule" index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.07251, -0.683245 )
collision_layer = 0
collision_mask = 18
input_ray_pickable = false
monitorable = false

[node name="CollisionShape" type="CollisionShape" parent="Body/AttackModule/Area" index="0"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0 )
shape = SubResource( 1 )

[node name="Legs" parent="." index="3"]
_max_velocity = 4.0

[connection signal="current_move_target_updated" from="Brain" to="ObjectiveToMovement" method="update_current_objective"]
[connection signal="current_objective_updated" from="Brain" to="Body/AttackModule" method="update_objective"]
[connection signal="direction_changed" from="ObjectiveToMovement" to="Legs" method="set_direction"]
[connection signal="direction_changed" from="ObjectiveToMovement" to="Body" method="direction_changed"]
